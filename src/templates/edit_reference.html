{% extends "layout.html" %}

{% block title %}
Edit reference
{% endblock %}

{% block body %}

<div class="container">
  <div class="jumbotron text-center bg-light">

<form action="/edit_reference/{{ reference.id }}" method="post">
  {% with messages = get_flashed_messages() %}
  {% if messages %}
  <ul>
    {% for message in messages %}
    <li class="error">{{ message }}</li>
    {% endfor %}
  </ul>
  {% endif %}
  {% endwith %}

    <h2>Edit reference</h2>
      <h3>Reference type: {{reference.ref_type}}</h3>
      <br>
      <input type="hidden" name="ref_type" value="{{ reference.ref_type }}">

      {% if reference.ref_type == 'inproceedings' %}
      <!--INPROCEEDINGS-->

      <h4>Mandatory fields</h4>
      <br>
      <label class="col-sm-2" for="author">Author:</label>
      <input type="text" name="author" value="{{ reference.author }}" required>
      <br>

      <label class="col-sm-2" for="title">Title:</label>
      <input type="text" name="title" value="{{ reference.title }}" required>
      <br>

      <label class="col-sm-2" for="booktitle">Book title:</label>
      <input type="text" name="booktitle" value="{{ reference.booktitle }}" required>
      <br>
      <label class="col-sm-2" for="year">Year:</label>
      <input type="number" min=0 max=2024 maxlength="4" name="year" value="{{ reference.year }}" required>
      <br>

      <br>
      <h4>Optional fields</h4>
      <br>

      <label class="col-sm-2" for="editor">Editor:</label>
      <input type="text" name="editor" value="{{ reference.editor }}">
      <br>

      <label class="col-sm-2" for="volume">Volume:</label>
      <input type="number" min=1 name="volume" value="{{ reference.volume }}">
      <br>

      <label class="col-sm-2" for="number">Number:</label>
      <input type="number" name="number" value="{{ reference.number }}">
      <br>

      <label class="col-sm-2" for="series">Series:</label>
      <input type="text" name="series" value="{{ reference.series }}">
      <br>

      <label class="col-sm-2" for="pages">Pages:</label>
      <input type="text" name="pages" value="{{ reference.pages }}">
      <br>

      <label class="col-sm-2" for="address">Address:</label>
      <input type="text" name="address" value="{{ reference.address }}">
      <br>

      <label class="col-sm-2" for="month">Month:</label>
      <input type="number" min=1 max=12 name="month" value="{{ reference.month }}">
      <br>

      <label class="col-sm-2" for="organisation">Organisation:</label>
      <input type="text" name="organisation" value="{{ reference.organisation }}">
      <br>

      <label class="col-sm-2" for="publisher">Publisher:</label>
      <input type="text" name="publisher" value="{{ reference.publisher }}">
      <br>

      <!-- <label class="col-sm-2" for="note">Note:</label>
      <input type="text" name="note" value="{{ reference.note }}">
      <br>

      <label class="col-sm-2" for="journal">Journal:</label>
      <input type="text" name="journal" value="{{ reference.journal }}">
      <br>&nbsp; -->

      <br>
      <button type="submit" class="btn btn-outline-success">
        Confirm edits
      </button>
</form>


{% elif reference.ref_type == 'book' %}
<!--BOOK-->

<h4>Mandatory fields</h4>

<br>
<div class="form-group">
  <label class="col-sm-2" for="author">Author:</label>
  <input type="text" name="author" value="{{ reference.author }}" required>
</div>

<div class="form-group">
  <label class="col-sm-2" for="title">Title:</label>
  <input type="text" name="title" value="{{ reference.title }}" required>
</div>
<br>

<div class="form-group">
  <label class="col-sm-2" for="year">Year:</label>
  <input type="number" min=1900 max=2024 maxlength="4" name="year" value="{{ reference.year }}" required>
</div>
<br>

<label class="col-sm-2" for="publisher">Publisher:</label>
<input type="text" name="publisher" value="{{ reference.publisher }}">
<br>

<label class="col-sm-2" for="address">Address:</label>
<input type="text" name="address" value="{{ reference.address }}">
<br>

<br>&nbsp;
<br>
<input type="submit" class="btn btn-dark" name="create_reference_submit" value="Create">
</form>

{% elif reference.ref_type == 'article' %}
<!--ARTICLE-->

<h4>Mandatory fields</h4>
<br>
<div class="form-group">
  <label class="col-sm-2" for="author">Author:</label>
  <input type="text" name="author" value="{{ reference.author }}" required>
</div>
<div class="form-group">
  <label class="col-sm-2" for="title">Title:</label>
  <input type="text" name="title" value="{{ reference.title }}" required>
</div>
<div class="form-group">
  <label class="col-sm-2" for="year">Year:</label>
  <input type="number" min=1900 max=2024 maxlength="4" name="year" value="{{ reference.year }}" required>
</div>
<div class="form-group">
  <label class="col-sm-2" for="journal">Journal:</label>
  <input type="text" name="journal" value="{{ reference.journal }}" required>
</div>
<br>

<h4>Optional fields</h4>
<br>

<label class="col-sm-2" for="volume">Volume:</label>
<input type="number" min=1 name="volume" value="{{ reference.volume }}">
<br>

<label class="col-sm-2" for="number">Number:</label>
<input type="number" name="number" value="{{ reference.number }}">
<br>

<label class="col-sm-2" for="pages">Pages:</label>
<input type="text" name="pages" value="{{ reference.pages }}">
<br>

<label class="col-sm-2" for="month">Month:</label>
<input type="number" min=1 max=12 name="month" value="{{ reference.month }}">
<br>

<label class="col-sm-2" for="note">Note:</label>
<input type="text" name="note" value="{{ reference.note }}">
<br>

<br>&nbsp;
<br>
<input type="submit" class="btn btn-dark" name="create_reference_submit" value="Create">
</form>

{% else %}
No reference selected.
{% endif %}
</div>
</div>
{% endblock %}